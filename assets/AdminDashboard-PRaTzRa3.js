import{a as n,S as _}from"./sweetalert2.all-sDImy6Vf.js";import{_ as f,c as p,a as t,b as c,w as a,d as s,g,k,i as w,F as S,r as u,o as h}from"./index-q-bRCVky.js";var M={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"ming777",BASE_URL:"/2023-vue-week06/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:V}=M,x={icon:"",title:"",showConfirmButton:!1,timer:1500},R={data(){return{checkSuccess:!1}},methods:{checkLogin(){n.post(`${V}/api/user/check`).then(()=>{this.checkSuccess=!0}).catch(()=>{this.$router.push("/login")})},signout(){this.setSweetMessageSuccess("已登出"),_.fire(x),setTimeout(()=>{this.$router.push("/login")},1500)},setSweetMessageSuccess(e){this.sweetMessage.icon="success",this.sweetMessage.title=e,this.sweetMessage.timer=1500},setSweetMessageError(e){this.sweetMessage.icon="error",this.sweetMessage.title=e,this.sweetMessage.timer=2500}},mounted(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");n.defaults.headers.common.Authorization=e,this.checkLogin()}},v=t("h2",{class:"text-center"},"你現在在後台頁面",-1),E={class:"mb-4"},L={class:"container"};function T(e,r,$,B,d,i){const o=u("RouterLink"),l=u("RouterView");return h(),p(S,null,[v,t("nav",E,[c(o,{to:"/admin/products"},{default:a(()=>[s("產品列表")]),_:1}),s(" | "),c(o,{to:"/admin/orders"},{default:a(()=>[s("訂單列表")]),_:1}),s(" | "),c(o,{to:"/"},{default:a(()=>[s("回到前台")]),_:1}),s(" | "),t("a",{href:"#",onClick:r[0]||(r[0]=g((...m)=>i.signout&&i.signout(...m),["prevent"]))},"登出")]),t("div",L,[d.checkSuccess?(h(),k(l,{key:0})):w("",!0)])],64)}const D=f(R,[["render",T]]);export{D as default};
